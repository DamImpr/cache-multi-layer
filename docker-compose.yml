services:
  app:
    build: .
    volumes:
      - ./app:/app
    networks:
      - cache-multi-layer-network
    depends_on:
      redis-server:
        condition: service_started
      memcache-server:
        condition: service_started
  redis-server:
    image: redis
    networks:
      - cache-multi-layer-network
  memcache-server:
    image: memcached
    networks:
      - cache-multi-layer-network
networks:
   cache-multi-layer-network:
    